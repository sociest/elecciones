---
import OnboardingStep from "../../components/onboarding/OnboardingStep.astro";
import { Rocket, Map, ArrowRight } from "lucide-react";
---

<OnboardingStep step={4} totalSteps={4} title="Inicio" eyebrow="Inicio">
    <div slot="left-content">
        <h1
            class="text-5xl sm:text-7xl md:text-8xl font-black text-hunter leading-[0.85] tracking-tighter mb-6"
        >
            Todo <br />
            <span
                class="text-transparent bg-clip-text bg-linear-to-r from-hunter to-hunter/20"
                >Listo.</span
            >
        </h1>
        <p
            class="text-hunter/60 text-lg md:text-xl max-w-md font-medium leading-relaxed"
        >
            El poder de decidir está en tus manos. Empieza a explorar.
        </p>
    </div>

    <div slot="left-features">
        <div class="flex items-center gap-3 text-hunter/80">
            <div class="p-2 bg-white/5 rounded-lg border border-white/5">
                <Rocket size={20} />
            </div>
            <span class="text-sm font-semibold">Inicio Rápido</span>
        </div>
        <div class="flex items-center gap-3 text-hunter/80">
            <div class="p-2 bg-white/5 rounded-lg border border-white/5">
                <Map size={20} />
            </div>
            <span class="text-sm font-semibold">Mapa Interactivo</span>
        </div>
    </div>

    <div slot="background-icon" class="animate-float">
        <Rocket size={460} strokeWidth={0.5} color="hunter" />
    </div>

    <div slot="right-content">
        <h3
            class="text-3xl sm:text-4xl font-extrabold text-primary-green tracking-tight leading-tight mb-5"
        >
            ¡Empecemos!
        </h3>
        <p class="text-primary-green/70 font-medium">
            Tu guía electoral está configurada. Navega por el mapa, descubre
            candidatos a alcaldes o gobernadores y ver sus relaciones políticas
            de forma sencilla.
        </p>
    </div>

    <div slot="actions" class="space-y-4">
        <button
            id="finish-onboarding-btn"
            class="w-full group bg-primary-green text-hunter p-5 rounded-2xl font-bold text-lg flex items-center justify-between hover:shadow-2xl hover:shadow-primary-green/30 transition-all hover:scale-[1.02] active:scale-[0.98]"
        >
            <span>EMPEZAR A EXPLORAR</span>
            <ArrowRight
                className="group-hover:translate-x-1 transition-transform"
            />
        </button>
    </div>
</OnboardingStep>

<script>
    const finishBtn = document.getElementById("finish-onboarding-btn");
    if (finishBtn) {
        finishBtn.addEventListener("click", () => {
            localStorage.setItem("onboarding_completed", "true");
            window.location.href =
                (import.meta.env.PUBLIC_BASE_URL ?? "/") +
                (import.meta.env.PUBLIC_BASE_ROUTE ?? "/") +
                "/";
        });
    }
</script>
